"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[910],{3910:(f,_,s)=>{s.r(_),s.d(_,{RemovedTasksModule:()=>g});var d=s(6895),r=s(5926),i=s(7746),o=s(3359),n=s(727),e=s(4650),x=s(8926),k=s(9653),m=s(7392),p=s(4859);function D(c,t){if(1&c){const a=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"button",6),e.NdJ("click",function(){e.CHM(a);const u=e.oxw().$implicit,A=e.oxw();return e.KtG(A.onRestorePressed(u))}),e.TgZ(3,"mat-icon"),e._uU(4,"restore"),e.qZA()(),e.TgZ(5,"button",7),e.NdJ("click",function(){e.CHM(a);const u=e.oxw().$implicit,A=e.oxw();return e.KtG(A.onDeletePressed(u.id))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete_forever"),e.qZA()()(),e.TgZ(8,"div",8)(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"div",11),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"div",12),e._uU(19),e.ALo(20,"date"),e.qZA()()()}if(2&c){const a=e.oxw().$implicit;e.xp6(10),e.Oqu(a.taskDescription),e.xp6(3),e.hij(" Created: ",e.lcZ(14,4,a.creationDate)," "),e.xp6(3),e.hij(" Expiry: ",e.lcZ(17,6,a.expiryDate)," "),e.xp6(3),e.hij(" Deleted: ",e.lcZ(20,8,a.expiryDate)," ")}}function l(c,t){if(1&c&&(e.ynx(0),e.YNc(1,D,21,10,"div",3),e.BQk()),2&c){const a=t.$implicit;e.xp6(1),e.Q6J("ngIf",a.isRemoved)}}class h{constructor(){this.restore=new e.vpe,this.delete=new e.vpe}onRestorePressed(t){this.restore.emit(t)}onDeletePressed(t){this.delete.emit(t)}}h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-removed-tasks-box"]],inputs:{removedTasks:"removedTasks"},outputs:{restore:"restore",delete:"delete"},decls:5,vars:1,consts:[[1,"tasks"],[1,"tasks__title","flexCenter"],[4,"ngFor","ngForOf"],["class","tasks__singleRecord removedTasks",4,"ngIf"],[1,"tasks__singleRecord","removedTasks"],[1,"singleRecord__restore","flexCenter"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[1,"singleRecord__description","marginLeft"],[1,"singleRecord__dates","marginLeft"],[1,"dates__creationDate","datesFlex"],[1,"dates__expiryDate","datesFlex"],[1,"dates__deletedDate","datesFlex"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Removed tasks:"),e.qZA()(),e.YNc(4,l,2,1,"ng-container",2),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",a.removedTasks))},dependencies:[d.sg,d.O5,m.Hw,p.RK,d.uU],styles:[".tasks[_ngcontent-%COMP%]{width:500px;height:700px;font-family:Comfortaa}.tasks__title[_ngcontent-%COMP%]{width:500px;height:100px;font-size:36px}.tasks__singleRecord[_ngcontent-%COMP%]{width:500px;height:100px;margin-top:24px;display:flex;justify-content:space-between}.singleRecord__description[_ngcontent-%COMP%]{width:340px;height:auto;display:flex;justify-content:center;align-items:center;word-break:break-all;overflow:hidden}.marginLeft[_ngcontent-%COMP%]{margin-left:12px}.singleRecord__dates[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dates__creationDate[_ngcontent-%COMP%]{width:auto;height:33px}.dates__expiryDate[_ngcontent-%COMP%]{width:170px;height:33px}.dates__deletedDate[_ngcontent-%COMP%]{width:170px;height:33px;color:red}.datesFlex[_ngcontent-%COMP%]{display:flex;align-items:center}.flexCenter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.removedTasks[_ngcontent-%COMP%]{border:2px solid #4854b4;border-radius:2%;transition-duration:.5s}.removedTasks[_ngcontent-%COMP%]:hover{box-shadow:0 0 14px #5362d1}.singleRecord__restore[_ngcontent-%COMP%]{margin-left:12px}"]});var C=new WeakMap,P=new WeakMap;class T{constructor(t,a){(0,r.Z)(this,C,{writable:!0,value:void 0}),(0,r.Z)(this,P,{writable:!0,value:void 0}),this.database=t,this.store=a,(0,o.Z)(this,C,new n.w0),(0,o.Z)(this,P,[]),this.removedTasks=[]}ngOnInit(){this.database.fetchTasks(),this.getTasks()}ngOnDestroy(){(0,i.Z)(this,C).unsubscribe()}getTasks(){(0,o.Z)(this,C,this.store.select(t=>t.tasks).subscribe(t=>{(0,o.Z)(this,P,t),this.getRemovedTasks()}))}getRemovedTasks(){this.removedTasks=[],(0,i.Z)(this,P).forEach(t=>{!0===t.isRemoved&&this.removedTasks.push(t)})}onRestorePressed(t){this.database.modifyTask({id:t.id,creationDate:t.creationDate,expiryDate:t.expiryDate,taskDescription:t.taskDescription,isDone:t.isDone,isRemoved:!1,removedDate:"0"}),this.database.fetchTasks()}onDeletePressed(t){this.database.deleteTask(t),this.database.fetchTasks()}}T.\u0275fac=function(t){return new(t||T)(e.Y36(x.c),e.Y36(k.yh))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-removed-tasks"]],decls:1,vars:1,consts:[[3,"removedTasks","delete","restore"]],template:function(t,a){1&t&&(e.TgZ(0,"app-removed-tasks-box",0),e.NdJ("delete",function(u){return a.onDeletePressed(u)})("restore",function(u){return a.onRestorePressed(u)}),e.qZA()),2&t&&e.Q6J("removedTasks",a.removedTasks)},dependencies:[h],styles:[".tasks[_ngcontent-%COMP%]{width:500px;height:700px;font-family:Comfortaa}.tasks__title[_ngcontent-%COMP%]{width:500px;height:100px;font-size:36px}.tasks__singleRecord[_ngcontent-%COMP%]{width:500px;height:100px;margin-top:24px;display:flex;justify-content:space-between}.singleRecord__description[_ngcontent-%COMP%]{width:340px;height:auto;display:flex;justify-content:center;align-items:center;word-break:break-all;overflow:hidden;cursor:pointer}.marginLeft[_ngcontent-%COMP%]{margin-left:12px}.singleRecord__dates[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dates__creationDate[_ngcontent-%COMP%]{width:auto;height:33px}.dates__expiryDate[_ngcontent-%COMP%]{width:170px;height:33px}.dates__deletedDate[_ngcontent-%COMP%]{width:170px;height:33px;color:red}.datesFlex[_ngcontent-%COMP%]{display:flex;align-items:center}.flexCenter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.removedTasks[_ngcontent-%COMP%]{border:2px solid #4854b4;border-radius:2%;transition-duration:.5s}.removedTasks[_ngcontent-%COMP%]:hover{box-shadow:0 0 14px #5362d1}.singleRecord__restore[_ngcontent-%COMP%]{margin-left:12px}"]});var b=s(8252);const R=[{path:"",component:T}];class v{}v.\u0275fac=function(t){return new(t||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[b.Bz.forChild(R),b.Bz]});class g{}g.\u0275fac=function(t){return new(t||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[d.ez,v,m.Ps,p.ot]})},8926:(f,_,s)=>{s.d(_,{c:()=>p});var d=s(5926),r=s(7746),i=s(3359),o=s(4247),n=s(4650),e=s(529),x=s(9653),k=new WeakMap,m=new WeakMap;class p{constructor(l,h){(0,d.Z)(this,k,{writable:!0,value:void 0}),(0,d.Z)(this,m,{writable:!0,value:void 0}),this.http=l,this.store=h,(0,i.Z)(this,k,"http://ods1337.pl:3000/tasks?filter=%7B%0A%20%20%22offset%22%3A%200%2C%0A%20%20%22limit%22%3A%20100%2C%0A%20%20%22skip%22%3A%200%2C%0A%20%20%22order%22%3A%20%22string%22%2C%0A%20%20%22where%22%3A%20%7B%0A%20%20%20%20%22additionalProp1%22%3A%20%7B%7D%0A%20%20%7D%2C%0A%20%20%22fields%22%3A%20%7B%0A%20%20%20%20%22id%22%3A%20true%2C%0A%20%20%20%20%22creationDate%22%3A%20true%2C%0A%20%20%20%20%22expiryDate%22%3A%20true%2C%0A%20%20%20%20%22taskDescription%22%3A%20true%2C%0A%20%20%20%20%22isDone%22%3A%20true%2C%0A%20%20%20%20%22isRemoved%22%3A%20true%2C%0A%20%20%20%20%22removedDate%22%3A%20true%0A%20%20%7D%0A%7D"),(0,i.Z)(this,m,"http://ods1337.pl:3000/tasks/")}fetchTasks(){this.http.get((0,r.Z)(this,k)).subscribe(l=>{this.store.dispatch((0,o.h)({tasks:l}))})}modifyTask(l){this.http.put(`${(0,r.Z)(this,m)}${l.id}`,l).subscribe()}createTask(l){this.http.post((0,r.Z)(this,m),l).subscribe()}deleteTask(l){this.http.delete(`${(0,r.Z)(this,m)}${l}`).subscribe()}}p.\u0275fac=function(l){return new(l||p)(n.LFG(e.eN),n.LFG(x.yh))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})},1519:(f,_,s)=>{function d(r,i,o){if(!i.has(r))throw new TypeError("attempted to "+o+" private field on non-instance");return i.get(r)}s.d(_,{Z:()=>d})},7746:(f,_,s)=>{s.d(_,{Z:()=>i});var r=s(1519);function i(o,n){return function d(o,n){return n.get?n.get.call(o):n.value}(o,(0,r.Z)(o,n,"get"))}},5926:(f,_,s)=>{function r(i,o,n){(function d(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(i,o),o.set(i,n)}s.d(_,{Z:()=>r})},3359:(f,_,s)=>{s.d(_,{Z:()=>i});var r=s(1519);function i(o,n,e){return function d(o,n,e){if(n.set)n.set.call(o,e);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=e}}(o,(0,r.Z)(o,n,"set"),e),e}}}]);