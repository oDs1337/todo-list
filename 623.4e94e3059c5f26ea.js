"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[623],{2623:(A,D,s)=>{s.r(D),s.d(D,{EditTaskModule:()=>r});var x=s(6895),p=s(5926),f=s(7746),h=s(3359),e=s(4006),t=s(4650),c=s(8252),F=s(8926),M=s(9653),l=s(9549),Z=s(4144),T=s(5113),b=s(3238),y=s(4859),o=s(9602),k=new WeakMap,g=new WeakMap,v=new WeakMap;class m{constructor(a,i,u,C){(0,p.Z)(this,k,{writable:!0,value:void 0}),(0,p.Z)(this,g,{writable:!0,value:void 0}),(0,p.Z)(this,v,{writable:!0,value:void 0}),this.route=a,this.router=i,this.database=u,this.store=C,this.task={creationDate:"",expiryDate:"",taskDescription:"",isDone:!1,isRemoved:!1,removedDate:""}}ngOnInit(){(0,h.Z)(this,k,this.route.params.subscribe(a=>{(0,h.Z)(this,v,a.id)})),this.getTask(),this.editTaskForm=new e.cw({creationDate:new e.NI(new Date(parseInt(this.task.creationDate)),[e.kI.required,e.kI.nullValidator]),expiryDate:new e.NI(new Date(parseInt(this.task.expiryDate)),[e.kI.required,e.kI.nullValidator]),taskDescription:new e.NI(`${this.task.taskDescription}`,[e.kI.required,e.kI.minLength(1),e.kI.maxLength(57)]),isDone:new e.NI(this.task.isDone,[e.kI.required,e.kI.nullValidator])})}ngOnDestroy(){(0,f.Z)(this,k)?.unsubscribe(),(0,f.Z)(this,g)?.unsubscribe()}getTask(){(0,h.Z)(this,g,this.store.select(a=>a.tasks).subscribe(a=>{a.forEach(i=>{i.id===(0,f.Z)(this,v)&&(this.task=i)})}))}onSubmit(a){const i={id:this.task.id,creationDate:`${Math.floor(a.creationDate)}`,expiryDate:`${Math.floor(a.expiryDate)}`,taskDescription:a.taskDescription,isDone:a.isDone,isRemoved:!1,removedDate:"0"};this.database.modifyTask(i),this.router.navigate(["tasks"]),alert("Your task has been modified sucessfully")}}m.\u0275fac=function(a){return new(a||m)(t.Y36(c.gz),t.Y36(c.F0),t.Y36(F.c),t.Y36(M.yh))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-edit-task"]],decls:31,vars:6,consts:[[1,"taskForm","taskForm-border"],[1,"form",3,"formGroup","ngSubmit"],[1,"taskForm__description"],["appearance","fill"],["matInput","","formControlName","taskDescription"],[1,"taskForm__date"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","formControlName","creationDate"],["matEndDate","","placeholder","End date","formControlName","expiryDate"],["matIconSuffix","",3,"for"],["picker",""],[1,"taskForm__isDone"],["formControlName","isDone"],[3,"value"],[1,"taskForm__submit"],["color","primary","mat-raised-button","","type","submit",3,"disabled"]],template:function(a,i){if(1&a&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit(i.editTaskForm.value)}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Task description"),t.qZA(),t._UZ(6,"input",4),t.qZA()(),t.TgZ(7,"div",5)(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Enter a date range"),t.qZA(),t.TgZ(11,"mat-date-range-input",6),t._UZ(12,"input",7)(13,"input",8),t.qZA(),t.TgZ(14,"mat-hint"),t._uU(15,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(16,"mat-datepicker-toggle",9)(17,"mat-date-range-picker",null,10),t.qZA()(),t.TgZ(19,"div",11)(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Is done?"),t.qZA(),t.TgZ(23,"mat-select",12)(24,"mat-option",13),t._uU(25,"Task is done"),t.qZA(),t.TgZ(26,"mat-option",13),t._uU(27,"Task is not done yet"),t.qZA()()()(),t.TgZ(28,"div",14)(29,"button",15),t._uU(30,"Apply changes"),t.qZA()()()()),2&a){const u=t.MAs(18);t.xp6(1),t.Q6J("formGroup",i.editTaskForm),t.xp6(10),t.Q6J("rangePicker",u),t.xp6(5),t.Q6J("for",u),t.xp6(8),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(3),t.Q6J("disabled",!i.editTaskForm.valid)}},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,l.KE,l.hX,l.bx,l.R9,Z.Nt,T.gD,b.ey,y.lW,o.nW,o.wx,o.zY,o.By,o._g],styles:[".taskForm[_ngcontent-%COMP%]{margin-top:-120px;width:500px;height:500px;display:flex;justify-content:center}.form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.taskForm__submit[_ngcontent-%COMP%]{width:140px;height:50px}.taskForm__submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%}.taskForm-border[_ngcontent-%COMP%]{border:1px solid #4854b4;border-radius:2%;box-shadow:0 0 14px #5362d1}mat-form-field[_ngcontent-%COMP%]{width:300px}"]});const I=[{path:"",component:m}];class n{}n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(I),c.Bz]});class r{}r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[x.ez,n,e.UX,l.lN,Z.c,T.LD,y.ot,o.FA,b.XK]})}}]);